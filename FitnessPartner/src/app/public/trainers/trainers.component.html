<app-loading-spinner
  *ngIf="isLoading"
  [message]="'trainers.loadingMsg' | translate"
></app-loading-spinner>

<div class="container my-3">
  <h2 class="text-center mb-5">{{ "trainers.h2" | translate }}</h2>
  <!-- Breadcrumb Navigation -->
  <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a [routerLink]="['/']">{{ "trainers.Breadcrumb.li1" | translate }}</a>
      </li>
      <li
        class="breadcrumb-item active"
        aria-current="page"
        style="font-size: 18px"
      >
        {{ "trainers.Breadcrumb.li2" | translate }}
      </li>
    </ol>
  </nav>

  <div class="row gy-5">
    <!-- Using paginatedTrainers instead of trainers -->
    <div *ngFor="let trainer of paginatedTrainers" class="col-12 col-md-4 d-flex justify-content-center">
      <a [routerLink]="['/trainers', trainer.id]" class="trainer-card">
        <div class="image-container">
          <img
            [src]="trainer.image"
            alt="{{ trainer.name }}"
            class="trainer-img"
          />
          <div class="overlay">
            <span>{{ trainer.name }}</span>
          </div>
        </div>
      </a>
    </div>
    
    <!-- Pagination controls -->
    <div class="col-12 mt-4">
      <nav aria-label="Trainer pagination">
        <ul class="pagination justify-content-center">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a class="page-link" href="javascript:void(0)" (click)="prevPage()" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          
          <li class="page-item" *ngFor="let page of getPageNumbers()" [class.active]="page === currentPage">
            <a class="page-link" href="javascript:void(0)" (click)="goToPage(page)">{{ page }}</a>
          </li>
          
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a class="page-link" href="javascript:void(0)" (click)="nextPage()" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
    
  </div>
  <app-workouts></app-workouts>
</div>